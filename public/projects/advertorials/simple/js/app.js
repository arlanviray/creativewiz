/**
 * @author: Arlan Viray
 * @email: arlan.viray@creativewiz.net
 * Simple - v1.0.0
 * Copyright (c) 2015
 */
!function e(t,i,o){function n(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return n(i?i:e)},c,c.exports,e,t,i,o)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,i){var o=e("./modules/utils.js"),n=e("./modules/mobile.js"),a=e("./page-home.js"),s=e("./page-results.js"),r=e("./page-bloggers.js"),l=e("./page-win.js"),d={init:function(){Detectizr.detect({addAllFeaturesAsClass:!0}),($("html.mobile").length||$(window).width()<o.maxMobileWidth)&&($('<div id="mobile_landscape"></div>').insertAfter($("#contentwrapper")),o.mobileOrientation()),setTimeout(function(){o.gaTrackingEvent("30 seconds","read","")},3e4),n.init(),a.elem.length&&a.init(),s.elem.length&&s.init(),r.elem.length&&r.init(),l.elem.length&&l.init(),this.setPromobox(),o.elemTrackingEvent()},setPromobox:function(){$(".promobox-win").length&&a.elem.length&&$(".promobox-win .quiz-promo").click(function(e){})}};t.exports=d.init()},{"./modules/mobile.js":4,"./modules/utils.js":5,"./page-bloggers.js":7,"./page-home.js":8,"./page-results.js":9,"./page-win.js":10}],2:[function(e,t,i){t.exports={option:{init:!0,length:0,info:[],id:0,index:0,startpos:0,swipe:!1,zoom:!1,loop:!0,duration:.35,complete:null},init:function(e){var t=this;$(e).length&&(void 0!==e.complete&&(t.option.complete=e.complete),void 0!==e.swipe&&(t.option.swipe=e.swipe),void 0!==e.zoom&&(t.option.zoom=e.zoom),void 0!==e.loop&&(t.option.loop=e.loop)),t.option.length=$("#carousel .ccontent .cchild").length,$("#carousel .ccontent .cchild").eq(t.option.id).addClass("active"),$.each($("#carousel .ccontent"),function(e,i){var o=$(i).parent().data("index"),n=$(i).find(".cchild").size(),a={};a.id=t.option.loop&&t.option.length>1?1:0,a.size=n,t.option.info[o]=a,t.option.loop&&t.option.length>1&&($(i).find(".cchild").first().before($(i).find(".cchild").last().clone()),$(i).find(".cchild").last().after($(i).find(".cchild").eq(1).clone()),$(i).find(".cchild").last().after('<div class="clear-fix"></div>'));var s="";s+='<div class="carrows" data-index="'+o+'">',s+='<div class="arrow cursor left"></div>',s+='<div class="arrow cursor right"></div>',s+='<div class="pages"><span class="current">1</span> (of) <span class="total">'+n+"</span></div>",s+="</div>"}),$(window).resize(function(e){t.setting(),setTimeout(function(){t.setting()},150),$("#carousel .cchild").width($("#carousel").width()),$.each($("#carousel .ccontent"),function(e,t){$.each($(t).find(".cchild"),function(e,t){$(t).css({left:$("#carousel").width()*e})})})}).resize(),t.event(),$(e).length&&void 0!==e.startpos&&(e.index>=0&&(t.option.info[e.index].id=e.startpos),e.duration>=0&&this.animate(e.startpos,e.duration)),t.option.zoom&&$("#carousel .cchild img").wrap('<span style="display:inline-block"></span>').css({display:"block"}).parent().zoom({callback:function(){}})},setting:function(){var e=this;$.each(e.option.info,function(t,i){if(void 0!==i){var o=$("#carousel.ccarousel"+t);1===e.option.length&&(i.id=0),o.height(o.find(".cchild").eq(i.id).height()),e.option.init&&setTimeout(function(){e.option.init=!1,o.height(o.find(".cchild").eq(i.id).height())},500),e.option.length>1&&o.find(".ccontent").css({left:-($("#carousel").width()*i.id)})}})},event:function(){var e=this;$("#carousel .ccontent").on("swipeleft",function(t){e.option.swipe&&(e.option.index=$(t.target).parent().data("index"),e.moveLeft())}).on("swiperight",function(t){e.option.swipe&&(e.option.index=$(t.target).parent().data("index"),e.moveRight())}).on("movestart",function(e){return e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY?void e.preventDefault():void 0}),1===e.option.length?$(".carrows").hide():$(".carrows").find(".arrow").click(function(){e.option.index=$(this).parent().data("index"),$(this).hasClass("left")?e.moveRight():e.moveLeft()})},moveLeft:function(){var e=this;TweenMax.isTweening($("#carousel.ccarousel"+e.option.index+" .ccontent"))||e.option.info[e.option.index].id<e.option.info[e.option.index].size+1&&(e.option.info[e.option.index].id++,e.animate(e.option.info[e.option.index].id))},moveRight:function(){var e=this;TweenMax.isTweening($("#carousel.ccarousel"+e.option.index+" .ccontent"))||e.option.info[e.option.index].id>0&&(e.option.info[e.option.index].id--,e.animate(e.option.info[e.option.index].id))},animate:function(e,t){var i=this;i.option.id=e,i.getId(),$("html.mobile").length&&i.option.zoom&&$("#carousel .cchild img.zoomImg").css({opacity:0});var o=$("#carousel.ccarousel"+i.option.index);t=t||0===t?t>0?t:0:i.option.duration,TweenMax.to(o.find(".ccontent"),t,{left:-($("#carousel").width()*i.option.id),onComplete:function(){0===i.option.info[i.option.index].id&&(i.option.info[i.option.index].id=i.option.info[i.option.index].size),i.option.info[i.option.index].id===i.option.info[i.option.index].size+1&&(i.option.info[i.option.index].id=1),TweenMax.to(o.find(".ccontent"),0,{left:-($("#carousel").width()*i.option.info[i.option.index].id)}),o.find(".carrows .pages .current").length&&o.find(".carrows .pages .current").html(i.option.info[i.option.index].id),TweenMax.to(o,t,{height:o.find(".cchild").eq(i.option.id).height()}),null!==i.option.complete&&i.option.complete()}}),o.find(".cchild").removeClass("active"),o.find(".cchild").eq(i.option.id).addClass("active")},getId:function(){return this.option.id}}},{}],3:[function(e,t,i){var o=e("./utils.js");t.exports={form:$("#formPanel"),fields:[],error:null,lsName:"SimpleComp",set:function(e){this.fields=e,this.setEvents()},setEvents:function(){var e=this;this.form.find(".formSubmit").click(function(t){t.preventDefault(),e.error=!1,$.each(e.fields.fields,function(t,i){switch(e.getField(i.name).focus(function(){e.removeError()}),i.type){case"email":if(i.validate&&!o.isValidEmailAddress(e.getField(i.name).val()))return e.getField(i.name).addClass("formError"),e.getError("Enter a valid email address"),!1;if(e.emailExist(e.getField(i.name).val()))return e.getField(i.name).addClass("formError"),e.getError("Email address has already been submitted"),!1;e.getField(i.name).removeClass("formError");break;case"phone":if(i.validate||""!==e.getField(i.name).val()){if(!o.isValidPhoneNumber(e.getField(i.name).val()))return e.getField(i.name).addClass("formError"),e.getError("Enter a valid phone numbers"),!1;e.getField(i.name).removeClass("formError")}break;case"checkbox":if(i.validate&&!e.getField(i.name).is(":checked"))return i.error||e.getError("Please tick box"),!1;break;default:if(i.validate&&""===e.getField(i.name).val())return e.getField(i.name).addClass("formError"),e.getError(i.error),!1;e.getField(i.name).removeClass("formError")}}),e.error||e.getSucess()})},getField:function(e){return this.form.find("input[name="+e+"]")},getSucess:function(){var e,t=this,i="";this.form.find(".formMessage").empty().html("Submitting data, please wait..."),this.form.find(".formSubmit").addClass("inactive"),$.each(t.fields.fields,function(o,n){if(t.getField(n.name).attr("disabled",!0),"checkbox"===n.type)i+=t.getField(n.name).is(":checked")?"yes":"no";else if(""!==t.getField(n.name).val()){var a=t.getField(n.name).val();"email"===n.type&&(e=a),i+=a}else i+="null";t.fields.fields.length!==o+1&&(i+="***")}),setTimeout(function(){t.form.parent().html('<div id="formPanel" class="formThankyou">Thank you for entering the competition</div>'),t.form.remove(),t.setLocalStorage({email:e}),console.log(i),$.each(i.split("***"),function(e,t){console.log(t)}),console.log(o.base64Encode(i)),o.gaTrackingEvent("competition","entry",o.base64Encode(i))},3e3)},setLocalStorage:function(e){var t=localStorage.getItem(this.lsName),i=[];t&&(i=JSON.parse(t)),i.push(e),localStorage.setItem(this.lsName,JSON.stringify(i))},getLocalStorage:function(){var e=JSON.parse(localStorage.getItem(this.lsName));return e},emailExist:function(e){if(null!==this.getLocalStorage()){var t=!1;return $.each(this.getLocalStorage(),function(i,o){o.email.toLowerCase()==e.toLowerCase()&&(t=!0)}),t}},getError:function(e){this.form.find(".formMessage").empty().html(e),this.error=!0},removeError:function(){this.form.find(".formMessage").empty().html()}}},{"./utils.js":5}],4:[function(e,t,i){t.exports={duration:.5,setwidth:200,init:function(){var e=this;this.getNav(),$(window).resize(function(t){$("#mobile_icon").hasClass("active")&&e.resetNav()}).resize()},getNav:function(){var e=this;$("#mobile_icon").click(function(){$(this).hasClass("active")?e.resetNav():($(this).addClass("active"),$(this).find("img").attr("src","/images/mobile/icon-close.png"),TweenMax.to($("#mobile_navigation"),e.duration,{left:0}),$("html, body").addClass("noscroll"),TweenMax.to($("#contentwrapper"),e.duration,{left:e.setwidth}),"fixed"===$("header").css("position")&&TweenMax.to($("header"),e.duration,{left:e.setwidth}))})},resetNav:function(){var e=this;$("#mobile_icon").removeClass("active"),$("#mobile_icon").find("img").attr("src","/images/mobile/icon-menu.png"),$("html, body").removeClass("noscroll"),TweenMax.to($("#mobile_navigation"),this.duration,{left:-this.setwidth}),TweenMax.to($("#contentwrapper"),this.duration,{left:0}),"fixed"===$("header").css("position")&&TweenMax.to($("header"),0,{left:this.setwidth,onComplete:function(){TweenMax.to($("header"),e.duration,{left:0})}})}}},{}],5:[function(e,t,i){t.exports={maxMobileWidth:768,maxTabletWidth:1024,base64Encode:function(e){return base64_encode(e)},base64Decode:function(e){return base64_decode(e)},randomNum:function(e,t,i){var o=e+Math.random()*(t-e);return"undefined"==typeof i?Math.round(o):o.toFixed(i)},arrayShuffle:function(e){for(var t,i,o=e.length;o;t=parseInt(Math.random()*o),i=e[--o],e[o]=e[t],e[t]=i);return e},arraySortDescending:function(e,t){return t.value-e.value},arrayCountValues:function(e,t){var i=0;return $.each(e,function(e,o){parseInt(o)===t&&i++}),i},arrayRemoveItem:function(e,t){for(var i=0,o=0;o<e.length;o++)e[o]===t&&(e.splice(o,1),i++,o--);return i},isValidEmailAddress:function(e){var t=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return t.test(e)},isValidPhoneNumber:function(e){var t=new RegExp(/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})$/i);return t.test(e)},scrollToElem:function(e,t){$("html, body").animate({scrollTop:$(e).length?$(e).offset().top-(t?t:0):0},500)},scrollIntoView:function(e){if($(e).length<1)return!1;var t=$(window).scrollTop(),i=t+$(window).height(),o=$(e).offset().top,n=o+$(e).height();return n>=t&&i>=o&&i>=n&&o>=t},mobileOrientation:function(){var e=$("#mobile_landscape"),t=function(){90==window.orientation||-90==window.orientation?$(e).fadeIn():$(e).fadeOut()};$(e).bind("touchmove",function(e){e.preventDefault()}),$(window).bind("orientationchange",function(e){t()}),t()},timeStamp:function(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return t},oldIE:function(){return-1!=navigator.appVersion.indexOf("MSIE 10.")||-1!=navigator.appVersion.indexOf("MSIE 9.")||-1!=navigator.appVersion.indexOf("MSIE 8.")?!0:!1},ltIE10:function(){return-1!=navigator.appVersion.indexOf("MSIE 9.")||-1!=navigator.appVersion.indexOf("MSIE 8.")?!0:!1},windowHistory:function(){return window.history&&window.history.pushState?!0:!1},iosVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}},gaTrackingEvent:function(e,t,i,o,n){o?n?(ga("send","event",e,t,i,o,n),console.log("TrackEvent: "+e+" >> "+t+" >> "+i+" >> "+o+" >> "+n)):(ga("send","event",e,t,i,o),console.log("TrackEvent: "+e+" >> "+t+" >> "+i+" >> "+o)):(ga("send","event",e,t,i),console.log("TrackEvent: "+e+" >> "+t+" >> "+i))},elemTrackingEvent:function(){var e=this;$("a").click(function(t){var i=$(this).data("category"),o=$(this).data("action"),n="";void 0!==i&&(n=void 0!==o?o:"click",e.gaTrackingEvent(i,n,$(this).data("label")))})},runTest:function(){console.log("runTest")}}},{}],6:[function(e,t,i){t.exports={videoId:0,videoTotal:1,videoElem:$("#video.video"),playerId:"3689307474001",playerKey:"AQ~~,AAAACUnXLEE~,CSRrSILcGTf-z4gr4QCSRxFV6ztL_0uj",init:function(e){this.videoTotal=this.videoElem.length,void 0!==$(e).videoId&&(this.videoId=$(e).videoId),this.setVideo()},setVideo:function(){var e=this;$.each(this.videoElem,function(t,i){var o=$(i).find(".video-screenshot").data("video");$(i).find(".video-block").html(e.getVideo(o)),e.videoId===t&&$("html.desktop").length&&($(i).find(".video-screenshot").hide(),$(i).find(".video-block").show()),$(i).find(".video-screenshot").click(function(){e.resetVideo(),$(this).hide(),$(this).parent().find(".video-block").show().html(e.getVideo($(this).data("video"))),setTimeout(function(){console.log("test")},2e3)})})},getVideo:function(e){var t="";return t+='<div class="video-container">',t+='<div style="display:none"></div>',t+='<object id="myExperience'+e+'" class="BrightcoveExperience">',t+='<param name="wmode" value="transparent" />',t+='<param name="bgcolor" value="#000000" />',t+='<param name="width" value="100%" />',t+='<param name="height" value="100%" />',t+='<param name="playerID" value="'+this.playerId+'" />',t+='<param name="playerKey" value="'+this.playerKey+'" />',t+='<param name="isVid" value="true" />',t+='<param name="isUI" value="true" />',t+='<param name="dynamicStreaming" value="true" />',t+='<param name="autoStart" value="true" />',t+='<param name="@videoPlayer" value="'+e+'" />',t+='<param name="includeAPI" value="true" />',t+='<param name="templateLoadHandler" value="onTemplateLoaded" />',t+='<param name="templateReadyHandler" value="onTemplateReady" />',t+="</object>",t+='<script type="text/javascript">brightcove.createExperiences();</script>',t+="</div>"},resetVideo:function(){$("#video.video .video-screenshot").show(),$("#video.video .video-block").hide().empty()}}},{}],7:[function(e,t,i){var o=e("./modules/video.js");t.exports={elem:$("body.page-template-bloggers"),init:function(){o.init()}}},{"./modules/video.js":6}],8:[function(e,t,i){var o=e("./modules/utils.js"),n=e("./modules/carousel.js");t.exports={elem:$("body.page-template-home"),questions:0,currentResults:[],updatedResults:[],init:function(){n.init({loop:!1}),this.questions=$(".quiz .cchild").length-2,this.setEvents()},setEvents:function(){var e=this;$(".quiz .button, .quiz .ans").click(function(t){if(t.preventDefault(),$(this).hasClass("ans")){e.currentResults[$(this).data("id")]=$(this).index()+1,$(this).parent().find(".ans").removeClass("active"),$(this).addClass("active");var i="q"+($(this).data("id")+1),n="ans"+($(this).index()+1)+" - "+$(this).text();o.gaTrackingEvent("quiz",i,n)}else o.gaTrackingEvent("quiz","start","");e.setQuiz()}),$(".quiz .back, .quiz .next").click(function(){$(this).hasClass("back")?e.setQuiz("back"):e.setQuiz()})},setQuiz:function(e){"back"===e?n.moveRight():n.moveLeft(),this.currentResults.length!==this.questions?this.quizProgress():this.quizEnd(),this.quizArrows(),o.scrollToElem()},quizProgress:function(){TweenMax.to($(".quiz .percentage"),.5,{width:11.11111*n.getId()+"%"})},quizArrows:function(){var e=$(".quiz .back"),t=$(".quiz .next");this.currentResults.length!==this.questions&&this.currentResults.length>0&&n.getId()>1?e.show():e.hide(),n.getId()<=this.currentResults.length?t.show():t.hide()},quizEnd:function(){var e=this,t=5,i=$(".quiz .countdown span");i.html(t+".");var n=window.setInterval(function(){var t=i.text(),o=parseInt(t-1);TweenMax.set($(".quiz .circle"),{rotation:0}),TweenMax.to($(".quiz .circle"),1,{rotation:360}),i.html(o+"."),1===o&&(clearInterval(n),e.quizcurrentResults())},1e3);o.gaTrackingEvent("quiz","end","")},quizcurrentResults:function(){console.log("currentResults - "+this.currentResults),_this=this;var e=5,t=4,i=[],n=[];$.each(this.currentResults,function(t,o){e>t?i.push(o):_this.updatedResults.push(o)});for(var a=1;t>=a;a++)n.push({group:a,value:o.arrayCountValues(i,a)});n.sort(o.arraySortDescending),console.log("videoResultsFinal: "+n);var s;s=n[0].value==n[1].value?o.randomNum(1,2):1;var r=n[s-1].group;this.updatedResults.unshift(r);var l=["Cosmo","Red","Elle","Good Housekeeping"],d=["a","b","c","d"],c=[];$.each(this.updatedResults,function(e,t){c.push(e>0?d[t-1]:l[t-1])}),o.gaTrackingEvent("quiz","result",""+c),window.location.href="/results/"+o.base64Encode(this.updatedResults)}}},{"./modules/carousel.js":2,"./modules/utils.js":5}],9:[function(e,t,i){var o=e("./modules/utils.js"),n=e("./modules/video.js");t.exports={elem:$("body.page-template-results"),duration:.5,init:function(){n.init(),this.setEvents()},setEvents:function(){var e=this;$(".infos .spot").click(function(){e.showInfo($(this).index()),o.gaTrackingEvent("facefacts",$(this).data("face"),"")}),$(".spotsinfo .close").click(function(t){t.preventDefault(),e.hideInfo()})},showInfo:function(e){$(".infos .spot").css({opacity:0}),$(".spotsinfo").show().css({opacity:0}),TweenMax.to($(".spotsinfo"),this.duration,{opacity:1}),$(".spotsinfo .copy").hide(),$(".spotsinfo .copy").eq(e).show()},hideInfo:function(){TweenMax.to($(".spotsinfo"),this.duration,{opacity:0,onComplete:function(){$(".infos .spot").css({opacity:1}),$(".spotsinfo").hide()}})}}},{"./modules/utils.js":5,"./modules/video.js":6}],10:[function(e,t,i){var o=e("./modules/forms.js");t.exports={elem:$("body.page-template-win"),init:function(){o.set({fields:[{name:"formFirstName",validate:!0,error:"Please enter your firstname"},{name:"formLastName",validate:!0,error:"Please enter your surname"},{name:"formAddress1",validate:!0,error:"Please enter first line of your address"},{name:"formAddress2",validate:!1},{name:"formPostcode",validate:!0,error:"Please enter your postcode"},{name:"formEmail",validate:!0,type:"email"},{name:"formPhone",validate:!1,type:"phone"},{name:"formOpt1",validate:!1,type:"checkbox"},{name:"formOpt2",validate:!1,type:"checkbox"}]})}}},{"./modules/forms.js":3}]},{},[1]);