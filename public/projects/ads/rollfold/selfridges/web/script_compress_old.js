/**
 * @author: Arlan Viray
 * @email: arlanv555@gmail.com
 */
!function(e,t,n){function o(){TweenMax.to(".header img",.5,{scaleX:.9,scaleY:.9,marginTop:20}),TweenMax.to(e(".contents .intro img:eq(0), .contents .intro img:eq(1), .contents .intro img:eq(2)"),0,{scaleX:.75,scaleY:.75}),TweenMax.to(e(".contents .intro img:eq(0)"),0,{top:-30,left:-50}),TweenMax.to(e(".contents .intro img:eq(1)"),0,{top:120,left:0}),TweenMax.to(e(".contents .intro img:eq(2)"),0,{top:124,left:80}),TweenMax.to(e(".contents .intro img:eq(3)"),0,{autoAlpha:0}),TweenMax.from(".contents .copy",1,{right:-110}),TweenMax.to(".contents .copy .ctext2, .footer .fcarousel",0,{autoAlpha:0}),a(),e("#btnOverlay").on("click",function(){ADTECH.expand(),e(this).hide(),// $('#mainWrapper').css('background-color', 'rgba(2555, 2555, 2555, 0.75)');
d.play()}),e(".contents #arrowDown").on("click",u)}function a(){d.add(TweenMax.to("#holderContents",p,{width:600,height:1200})),// header
d.insert(TweenMax.to(".header",p,{height:190,borderBottom:0})),d.insert(TweenMax.to(".header img",p,{scaleX:1,scaleY:1})),// contents
d.insert(TweenMax.to(".contents, .contents .introcopy, .contents .intro",p,{height:710})),d.insert(TweenMax.to(".contents .copy",p,{width:366,height:516,top:110,left:112})),d.insert(TweenMax.to(".contents .copy .ctext1, .footer .ftext",.25,{autoAlpha:0})),d.insert(TweenMax.to(".contents .copy .ctext2, .footer .fcarousel",p,{autoAlpha:1,delay:p})),d.insert(TweenMax.to(e(".contents .intro img:eq(0), .contents .intro img:eq(1), .contents .intro img:eq(2)"),p,{scaleX:1,scaleY:1})),d.insert(TweenMax.to(e(".contents .intro img:eq(0)"),p,{top:0,left:274})),d.insert(TweenMax.to(e(".contents .intro img:eq(1)"),p,{top:110,left:0,borderBottom:"15px solid #ffde00"})),d.insert(TweenMax.to(e(".contents .intro img:eq(2)"),p,{top:358,left:334,borderTop:"15px solid #ffde00"})),d.insert(TweenMax.to(e(".contents .intro img:eq(3)"),p,{top:544,autoAlpha:1})),// footer
d.insert(TweenMax.to(".footer",p,{height:302})),d.insert(TweenMax.to(".footer .fcarousel",p,{height:284,onComplete:i}))}function r(t){e("#btnClose").show().hover(function(){e(this).attr("src",ADTECH.getFileUrl("btn_close_over.png"))},function(){e(this).attr("src",ADTECH.getFileUrl("btn_close.png"))}).on("click",function(){e(this).hide(),// $('#mainWrapper').css('background-color', 'rgba(2555, 2555, 2555, 0)');
TweenMax.to(e(".contents .introcopy, #carouselMainContainer"),p,{y:0,onComplete:function(){d.reverse(),TweenLite.delayedCall(.35,T),TweenLite.delayedCall(1,function(){ADTECH.contract(),e("#btnOverlay").show()}),f()}})})}function i(t){e(".footer .fcarousel").append('<div id="carouselThumbs"></div><div id="carouselThumbsArrows"><img src="'+ADTECH.getFileUrl("btn_arrow_left.png")+'" class="arrowLeft" /><img src="'+ADTECH.getFileUrl("btn_arrow_right.png")+'" class="arrowRight" /></div>'),e.each(carouselData.data,function(t,n){var t=t+1;e("#carouselThumbs").append('<img src="'+ADTECH.getFileUrl("carousel_thumb_"+t+".jpg")+'" data-id="'+t+'" />')}),e("#carouselThumbs").css({width:D*carouselData.data.length}),e("#carouselThumbs img").on("click",u),// arrows
e("#carouselThumbsArrows .arrowLeft").hover(function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_left_over.png"))},function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_left.png"))}).on("click",function(){c()}),e("#carouselThumbsArrows .arrowRight").hover(function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_right_over.png"))},function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_right.png"))}).on("click",function(){s()})}function c(){A>0?A--:A=0,TweenMax.to(e("#carouselThumbs"),p,{x:-D*A})}function s(){var t;A<carouselData.data.length-4?(A++,t=D*A):(A=carouselData.data.length-3,t=D*carouselData.data.length-600),TweenMax.to(e("#carouselThumbs"),p,{x:-t})}function l(){e("#carouselThumbs img").css({opacity:1}),//border:0
e("#carouselThumbs img:eq("+mainCarouselID+")").css({opacity:.25})}function u(t){mainCarouselID=e(t.target).data("id")==n?mainCarouselID:e(t.target).data("id")-1,w?(e(".contents").append('<div id="carouselMainContainer"><div id="carouselMain"></div><div id="carouselMainArrows"><img src="'+ADTECH.getFileUrl("btn_arrow_left.png")+'" class="arrowLeft" /><img src="'+ADTECH.getFileUrl("btn_arrow_right.png")+'" class="arrowRight" /></div></div>'),e.each(carouselData.data,function(t,n){var t=t+1,o="";o+='<div class="carouselImage">',o+='<img src="'+ADTECH.getFileUrl("carousel_main_"+t+".jpg")+'" class="mainImage" />',o+='<div class="carouselText">',o+='<div class="title"><em>'+n.name+"</em></div>",o+="<div>"+n.desc+"</div>",o+='<div><a href="#"><span>SHOP NOW<img src="'+ADTECH.getFileUrl("arrow_shopnow.png")+'" id="arrowShopNow" /></span></a></div>',o+="</div>",e.each(n.info,function(e,t){var n="left"==t.xbox?"left:"+t.xbtn:"right:"+t.xbtn;o+='<div class="carouselInfo" style="top:'+t.ybtn+"px; "+n+'px;">',o+='<div class="carouselInfoHolder">';var a="left"==t.xbox?"infoCopyLeft":"infoCopyRight",r="left"==t.xbox?"infoBtnLeft":"infoBtnRight";o+='<div class="infoCopy '+a+'">'+t.copy+'<p><a href="#"><span>SHOP NOW<img src="'+ADTECH.getFileUrl("arrow_shopnow.png")+'" id="arrowShopNow" /></span></a></p></div>',o+='<img src="'+ADTECH.getFileUrl("btn_plus.png")+'" class="infoBtn '+r+'" />',o+="</div>",o+="</div>"}),o+="</div>",e("#carouselMain").append(o)}),// shop now event
e("#carouselMain .carouselImage a").on("click",function(e){e.preventDefault();// window.open(carouselData.data[mainCarouselID].link, '_blank');
// not working passing varible on ADTECH.click
var t=carouselData.data[mainCarouselID].name.toString();// hard coded string value
switch(mainCarouselID){case 0:ADTECH.click("SKIN THERAPY");break;case 1:ADTECH.click("FIRM AND SCULPT");break;case 2:ADTECH.click("PERFECT HAIR");break;case 3:ADTECH.click("FANTASY MAKE-UP");break;case 4:ADTECH.click("INSTANT TAN");break;case 5:ADTECH.click("ORGANIC REMEDIES");break;case 6:ADTECH.click("ALL IN ONE");break;case 7:ADTECH.click("INSPIRED BY YOU");break;case 8:ADTECH.click("SELFRIDGES EXCLUSIVE");break;case 9:ADTECH.click("NAIL ART");break;case 10:ADTECH.click("RADIANT SKIN");break;case 11:ADTECH.click("POWER SERUM");break;case 12:ADTECH.click("BARE MINERALS")}}),// set position
e("#carouselMain").css({width:m*carouselData.data.length}),TweenMax.to(e("#carouselMain"),0,{x:-(m*mainCarouselID)}),g(!0),// arrows
e("#carouselMainArrows .arrowLeft").hover(function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_left_over.png"))},function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_left.png"))}).on("click",function(){mainCarouselID>0?mainCarouselID--:mainCarouselID=0,h(),A=mainCarouselID-1,l(),c()}),e("#carouselMainArrows .arrowRight").hover(function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_right_over.png"))},function(){e(this).attr("src",ADTECH.getFileUrl("btn_arrow_right.png"))}).on("click",function(){mainCarouselID<carouselData.data.length-1?mainCarouselID++:mainCarouselID=carouselData.data.length-1,h(),A=mainCarouselID-1,l(),s()}),// hide info copy
TweenMax.to("#carouselMain .infoCopy",0,{autoAlpha:0}),// set button event
e("#carouselMain .infoBtn").hover(function(){M=!0,TweenMax.to(e(this),p,{rotation:135}),TweenMax.to(e(this).parent().find(".infoCopy"),p,{autoAlpha:1})},function(){}),e("#carouselMain .mainImage").hover(function(){M&&(M=!1,TweenMax.to(e("#carouselMain .infoBtn"),p,{rotation:0}),TweenMax.to(e("#carouselMain .infoBtn").parent().find(".infoCopy"),p,{autoAlpha:0}))}),// set header arrow
e(".header #arrowDown").show().on("click",function(){e(this).hide(),g()}),w=!1):h(),l()}function h(){TweenMax.to(e("#carouselMain"),p,{x:-m*mainCarouselID})}function g(t){t?(TweenMax.to(e(".contents .introcopy, #carouselMainContainer"),p,{y:-710}),f(!0)):(f(!1),TweenMax.to(e(".contents .introcopy, #carouselMainContainer"),p,{y:0,onComplete:function(){e("#carouselThumbs img").css({opacity:1}),//border:0
e("#carouselMainContainer").remove(),w=!0}}))}function f(t){t?e("#holderContents").append('<div id="btnRoundel"><a href="http://www.selfridges.com" target="_blank"><img src="'+ADTECH.getFileUrl("btn_roundel.png")+'"></a></div>'):e("#btnRoundel").remove()}function T(){e(".header #arrowDown").hide(),e("#carouselMainContainer").remove(),e("#carouselThumbs, #carouselThumbsArrows").remove(),// reset variable
w=!0,C=mainCarouselID=A=0}var d=new TimelineMax({paused:!0,onComplete:r}),p=.5,w=!0,m=600,C=mainCarouselID=0,D=174,A=thumbID=0,M=!1;e(o)}(jQuery,window);