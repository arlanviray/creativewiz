/**
 * @author: Arlan Viray
 * @email: arlanv555@gmail.com
 */
!function(e,a,n){function t(){g=e(".expanded .carousel .products-container .products").size(),c(),i(),s(),r(),p(),e(".expanded .carousel .products-container .products").eq(0).clone().appendTo(".expanded .carousel .products-container"),e(".expanded .carousel .products-container .products").eq(g-1).clone().prependTo(".expanded .carousel .products-container"),e(".expanded .carousel .products-container").append('<div class="clr"></div>'),TweenMax.to(".expanded .landing .col img",0,{scaleX:C,scaleY:C}),v=!1,// auto expand
f&&e(".contracted .btnExpand").click()}function o(){ADTECH.expand(),TweenLite.delayedCall(1,function(){parent.postMessage("resize","*"),b.play()}),m=!1}function d(){TweenMax.to(".contracted .btnExpand .text",y,{delay:1,opacity:0,onComplete:function(){TweenMax.to(".contracted .btnExpand .text",y,{opacity:1,onComplete:d})}})}function c(){v?(TweenMax.to(".logo",0,{css:{scaleX:.8,scaleY:.8}}),f||TweenMax.from(".bpic",y,{css:{right:-420},delay:y})):m?(TweenMax.to(".logo",y,{css:{top:0,left:188,scaleX:.8,scaleY:.8}}),TweenMax.to(".bpic",y,{css:{right:0}}),TweenMax.to(".lcopy",y,{css:{opacity:1},delay:y})):(TweenMax.to(".logo",y,{css:{top:20,left:26,scaleX:1,scaleY:1},delay:1}),TweenMax.to(".bpic",y,{css:{right:-420}}),TweenMax.to(".lcopy",y,{css:{opacity:0}}))}function i(){e(".contracted .btnExpand").click(function(){o(),c()}),//btnExpand();
e(".expanded .buttons .btnClose").click(function(){b.reverse(),TweenLite.delayedCall(1,function(){ADTECH.contract(),parent.postMessage("resize","*"),r(),p(),e(".expanded .buttons a").removeClass("active"),w=1,m=!0,h=!1,c()})}),e(".expanded .buttons .btnVideo").click(function(e){e.preventDefault(),ADTECH.event("View video"),T=0,h?u():(h=!0,x())}),e(".expanded .buttons .btnProducts").click(function(e){e.preventDefault(),ADTECH.event("View products"),T=1,h?u():(h=!0,x())}),e(".expanded .carousel .btnShopnow").hover(function(){TweenMax.to(e(".expanded .carousel .products-container .products:eq("+w+") .circle"),M,{scaleX:.96,scaleY:.96,rotation:-360})},function(){TweenMax.to(e(".expanded .carousel .products-container .products:eq("+w+") .circle"),M,{scaleX:1,scaleY:1,rotation:0})}),e(".expanded .landing .col").hover(function(){TweenMax.to(e(this).find("img"),y,{css:{opacity:1,scaleX:1,scaleY:1}}),e(this).find(".box .text").addClass("active"),e(".expanded .buttons a").eq(e(this).index()).addClass("active")},function(){TweenMax.to(e(this).find("img"),y,{css:{opacity:.5,scaleX:C,scaleY:C}}),h||(e(this).find(".box .text").removeClass("active"),e(".expanded .buttons a").removeClass("active"))}).click(function(){T=e(this).index(),h=!0,x()});for(var a="",n=1;g>=n;n++)a+="<li></li>";e(".expanded .carousel .products-navigation").append("<ul>"+a+'<div class="clr"></div></ul>'),e(".expanded .carousel .products-navigation ul").width(e(".expanded .carousel .products-navigation li").width()*g),e.each(e(".expanded .carousel .products-navigation li"),function(a,n){e(n).click(function(){if(!TweenMax.isTweening(e(".expanded .carousel .products-container"))){if(w==e(this).index()+1)return!1;w=e(this).index()+1,l()}})}),e(".expanded .arrows .btnArrowLeft").click(function(){TweenMax.isTweening(e(".expanded .carousel .products-container"))||(w>0&&w--,l())}),e(".expanded .arrows .btnArrowRight").click(function(){TweenMax.isTweening(e(".expanded .carousel .products-container"))||(g+1>w&&w++,l())}),e.each(e(".expanded .products-container .products"),function(a,n){e(n).find(".main img").not(":eq(0)").css({opacity:0}),e(n).find(".thumbs img").click(function(){var t=e(this).parent().index();// console.log(i, id, obj);
TweenMax.to(e(n).find(".main img"),0,{opacity:0}),TweenMax.to(e(n).find(".main img").eq(t),0,{opacity:1}),TweenMax.to(e(n).find(".thumbs .apointer"),M,{css:{top:q[t]}}),0==a&&(e(".expanded .products-container .products:eq("+(g+1)+")").find(".main img").css({opacity:0}),e(".expanded .products-container .products:eq("+(g+1)+")").find(".main .prod"+(t+1)).css({opacity:1}),e(".expanded .products-container .products:eq("+(g+1)+")").find(".thumbs .apointer").css({top:q[t]})),a==g-1&&(e(".expanded .products-container .products:eq(0)").find(".main img").css({opacity:0}),e(".expanded .products-container .products:eq(0)").find(".main .prod"+(t+1)).css({opacity:1}),e(".expanded .products-container .products:eq(0)").find(".thumbs .apointer").css({top:q[t]}))})})}function s(){b.add(TweenMax.to(".contracted",M,{autoAlpha:0})),b.add(TweenMax.to("#contents",.75,{height:606,onComplete:r,onCompleteParams:[!0]}))}function r(a){a?(TweenMax.to(".expanded .landing .colleft, .expanded .landing .colright",y,{x:0}),TweenMax.from(".expanded .landing .copies",y,{autoAlpha:0,y:30,delay:.5})):(TweenMax.to(".expanded .landing .colleft",m?0:y,{x:-490}),TweenMax.to(".expanded .landing .colright",m?0:y,{x:490,onComplete:function(){m||e(".expanded .landing").hide()}}))}function p(a){a?//$('.expanded .buttons .navigation').show();
e(".expanded .vc-holder").show():(//$('.expanded .buttons .navigation').hide();
e(".expanded .vc-holder").hide(),e(".expanded .arrows").hide(),e(".expanded .landing").show())}function l(){// reset circles
e(".expanded .carousel .products-container .products .circle").css("opacity",0),console.log(">> "+w),0==w||w==g?e("#contents .expanded .aright").addClass("aremovebg"):e("#contents .expanded .aright").removeClass("aremovebg"),TweenMax.to(e(".expanded .carousel .products-container"),y,{css:{left:-(980*w)},onComplete:function(){0==w&&(w=g),w==g+1&&(w=1),TweenMax.to(e(".expanded .carousel .products-container"),0,{css:{left:-(980*w)}}),// specified circle
TweenMax.to(e(".expanded .carousel .products-container .products:eq("+w+") .circle"),M,{css:{opacity:1}}),TweenMax.from(e(".expanded .carousel .products-container .products:eq("+w+") .circle"),y,{y:-200,scaleX:0,scaleY:0,ease:Back.easeOut}),e(".expanded .carousel .products-navigation li").removeClass("active"),e(".expanded .carousel .products-navigation li").eq(w-1).addClass("active")}})}function u(a){e(".expanded .buttons a").removeClass("active"),T>0?(e(".expanded .buttons .btnProducts").addClass("active"),e(".expanded .arrows").show(),e(".expanded .videoholder .video").empty()):(e(".expanded .buttons .btnVideo").addClass("active"),e(".expanded .arrows").hide(),e(".expanded .videoholder .video").empty().html('<div style="display:none"></div><object id="myExperience" class="BrightcoveExperience"><param name="bgcolor" value="#000000" /><param name="width" value="780" /><param name="height" value="436" /><param name="playerID" value="1719536881001" /><param name="playerKey" value="AQ~~,AAAAABn4dxs~,AY7gyox5PDi_PE120JWsev9MDwmlXCJp" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="autoStart" value="true" /><param name="includeAPI" value="true" /><param name="templateLoadHandler" value="onTemplateLoaded" /><param name="templateReadyHandler" value="onTemplateReady" /><param name="@videoPlayer" value="3393501027001" /></object><script type="text/javascript">brightcove.createExperiences();</script>')),TweenMax.to(".expanded .vc-holder .vc-contents",a?0:y,{y:-(474*T)})}function x(){r(),p(!0),u(!0),TweenMax.to(e(".expanded .carousel .products-container"),0,{css:{left:-980}}),e(".expanded .carousel .products-navigation li").eq(0).addClass("active")}var m=!0,v=!0,f=!0,w=1,g,h=!1,T,y=.5,M=.25,b=new TimelineMax({paused:!0}),C=.92,q=[66,210,356];e(t)}(jQuery,window);