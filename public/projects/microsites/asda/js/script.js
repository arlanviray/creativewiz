/**
 * @author: Arlan Viray
 * @email: arlanv555@gmail.com
 */
$(document).ready(function(){function e(e,t){return t.value-e.value}function t(e,t){var o=0;return $.each(t,function(t,s){s===e&&o++}),o}function o(){a(),i(),$(".intro #button").click(function(){p++,s(),u()})}function s(){TweenMax.to("#contents",.5,{css:{left:-($("#wrapper").width()*p)}})}function a(){TweenMax.to(".intro .imgmain",0,{autoAlpha:0,x:100,y:100}),TweenMax.to(".intro .imgmain",1,{autoAlpha:1,x:0,y:0}),r(!0)}function r(e,t){TweenMax.to(".decoleft img",.25,{css:{left:-120}}),TweenMax.to(".decoright img",.25,{css:{right:-120},onComplete:function(){if(!t){var o=e?0:f;TweenMax.to($(".decoleft .deco"+o),.5,{css:{left:0}}),TweenMax.to($(".decoright .deco"+o),.5,{css:{right:0}})}}})}function i(){$(".quiz .carousel .arrows .left").click(function(){f>1?(f--,u(),n()):(p--,s(),h(!0),a())}),$(".quiz .carousel .arrows .right").click(function(){void 0!=y[f-1]&&(m>f?(f++,u(),void 0==y[f-1]&&l()):(p++,d(),s()))}),l(),// set carousel clicks
$.each($(".quiz .carousel .carouselpics"),function(e,t){// console.log(index, obj);
$(t).find(".pic, .info").click(function(){var t='<div class="overlay"></div>';$(this).parent().parent().find(".pic").empty(),$(this).hasClass("pic")?$(this).html(t):$(this).parent().find(".pic").html(t);var o=$(this).parent().index();y[e]=o+1,n()})})}function n(){$(".quiz .carousel .arrows .right").find("img").fadeTo(0,1).css("cursor","pointer")}function l(){$(".quiz .carousel .arrows .right").find("img").fadeTo(0,.35).css("cursor","auto")}function u(){c(),h(),TweenMax.to(".quiz .carousel .carouselcontents",.5,{css:{left:-($(".quiz .carousel .carouselpics").width()*(f-1))}}),r()}function c(){$(".quiz .questions .page h2").empty().html("QUESTION "+f),$(".quiz .questions .ques h3").empty().html(g.questions[f-1].txt)}function h(e){}function d(){for(var o=1;w>=o;o++)k.push({group:o,value:t(o,y)});// set data to elements
if(k.sort(e),console.log("results: "+k.sort(e)),k[0].value==k[1].value){var i=Math.ceil(2*Math.random()),n=i-1;console.log("groupIndex rand: "+n)}else var n=0;var c=k[n].group-1;console.log("groupId: "+c),$(".result .header .head h2").empty().append(g.results[c].head),$(".result .header .copy h3").empty().append(g.results[c].copy),$(".result .description .desc").empty().append(g.results[c].desc);var h="";$.each(g.results[c].links,function(e,t){h+='<div class="gpics">',h+='<a href="'+t+'" target="_blank">',h+='<img src="images/thumb_result_'+(c+1)+"_"+(e+1)+".jpg?"+Math.floor(99999*Math.random())+'" />',h+='<br /><img src="images/btn_result_buynow.png" class="buynow" />',h+="</a>",h+="</div>"}),$(".result .gallery .gcontainer .gcontents").empty().append(h);var d=4,m=1,b=g.results[c].links.length;b>d?($(".result .gallery .arrows").show(),$(".result .gallery .arrows .left").click(function(){m>1&&(m--,v())}),$(".result .gallery .arrows .right").click(function(){b-d+1>m&&(m++,v())})):$(".result .gallery .arrows").hide();var v=function(){TweenMax.to(".result .gallery .gcontainer .gcontents",.5,{css:{left:-(125*(m-1))}})};// reset
$(".result #button").click(function(){p=0,f=1,y.length=0,k.length=0,$(".quiz .carousel .carouselpics .pic").empty(),s(),u(),l(),a(),m=1,v()}),// set deco
r(null,!0);// safari only
var x=navigator.userAgent.toLowerCase();-1!=x.indexOf("safari")&&(x.indexOf("chrome")>-1||setTimeout(function(){var e=$(window).width(),t=$(window).height();window.resizeTo(e-1,t)},500))}var g={questions:[{txt:"Who is your ultimate style icon?"},{txt:"You've bagged a second date with a gorgeous guy, but he's asked you to organize the evening - what do you do?"},{txt:"What is your staple wardrobe item?"},{txt:"Which era would you like to have lived through?"},{txt:"Who is your perfect man?"}],results:[{head:"<span>Mostly A's</span> : HIPPY/FOLK",copy:"You're a Glastonbury girl at heart, but one with a penchant for fashion.",desc:"This tee sums up your outlook on life as a carefree, run-with-the-wind kind of gal. Florals are your go-to pattern, but you look for more subtle prints rather than cutesy kitschy flowers. If you're a working girl, this floral mix dress is the perfect injection of office-appropriate folk. Just chilling at home or off to a festival? These leggings will give you flower power! Light your candles and pop them in this birdcage tea light holder for instant hippy-heaven in the comfort of your own home.",links:["http://direct.asda.com/ASDA-Butterfly-Cushion/002096397,default,pd.html","http://direct.asda.com/george/womens-tops/g21-live-laugh-smile-tee/G004411949,default,pd.html","http://direct.asda.com/george/womens-trousers/floral-print-joggers/G004384014,default,pd.html","http://direct.asda.com/george/womens/dresses/floral-mix-dress/G004433675,default,pd.html"]},{head:"<span>Mostly B's</span> : GRUNGE/PUNK",copy:"You're an effortless rock chick and your wardrobe is incomplete without black, leather and tartan.",desc:"You love to make a statement and accessorizing is second nature to you - even your homeware is punky, just like this chain table light. Throw on this jumper dress (an ode to Rolling Stones, naturally) and these biker boots for a no-hassle gig outfit. Winding down? These tartan dungarees and bulldog print sweatshirt are perfect for lounging about in, whilst still retaining your grunge-punk-cool.",links:["http://direct.asda.com/on/demandware.store/Sites-ASDA-Site/default/Search-Show?q=chain+table+lamp","http://direct.asda.com/george/womens/dresses/g21-lips-jumper-dress/G004400735,default,pd.html","http://direct.asda.com/george/womens/playsuits-and-jumpsuits/g21-check-dungarees/G004370575,default,pd.html","http://direct.asda.com/george/womens-knitwear/g21-bulldog-sweatshirt/G004411983,default,pd.html","http://direct.asda.com/george/womens-shoes/leather-look-biker-boots/G004317755,default,pd.html"]},{head:"<span>Mostly C's</span> : GIRLY GIRL",copy:"Your style is truly feminine and you love all things girly - and why not, it's great being a girl!",desc:"You're a fashionista and take pride in your appearance and your style icons hark back to the 50s - which makes this printed cushion perfect for you. But you're not all hearts and flowers - you're conscious of this season's trends. When you go out dancing with the girls, they'll be wowed by this embellished flapper dress, channeling Great Gatsby chic all the way. Pair it with these vintage-inspired block heel ballet shoes. Going somewhere a bit more casual? This punchy pink jacquard tunic is sure to get heads turning.",links:["http://direct.asda.com/ASDA-Modern-50%27s-Lady-Cushion/002090342,default,pd.html","http://direct.asda.com/george/womens-tops/jacquard-tunic/G004422388,default,pd.html","http://direct.asda.com/george/womens/dresses/embellished-flapper-dress/G004281623,default,pd.html","http://direct.asda.com/george/womens-shoes/block-heel-ballet-shoes/G004385771,default,pd.html"]}]},p=0,f=1,m=5,w=3,y=[],k=[];o()});