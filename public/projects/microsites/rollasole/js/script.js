/**
 * @author: Arlan Viray
 * @email: arlanv555@gmail.com
 */
$(document).ready(function(){function e(e,t){return t.value-e.value}function t(e,t){var o=0;return $.each(t,function(t,a){a===e&&o++}),o}function o(){n(),i(),$(".intro #button").click(function(){g++,a(),l()})}function a(){TweenMax.to("#contents",.5,{css:{left:-(944*g)}})}function n(){TweenMax.from(".intro .imgtop img",2,{autoAlpha:0,x:630});var e=new TimelineMax;e.add(TweenMax.from(".imgbottom .img1",.35,{autoAlpha:0,delay:.5})),e.add(TweenMax.from(".imgbottom .img2",.35,{autoAlpha:0})),e.add(TweenMax.from(".imgbottom .img3",.35,{autoAlpha:0})),e.add(TweenMax.from(".imgbottom .img4",.35,{autoAlpha:0}))}function i(){$(".quiz .carousel .arrows .left").click(function(){m>1?(m--,l(),s()):(g--,a(),h(!0),n())}),$(".quiz .carousel .arrows .right").click(function(){void 0!=w[m-1]&&(y>m?(m++,l(),void 0==w[m-1]&&r()):(g++,c(),a()))}),r(),// set carousel clicks
$.each($(".quiz .carousel .carouselpics"),function(e,t){// console.log(index, obj);
$(t).find(".pic, .info").click(function(){var t='<img src="images/thumb_overlay.png" />';$(this).parent().parent().find(".pic").empty(),$(this).hasClass("pic")?$(this).html(t):$(this).parent().find(".pic").html(t);var o=$(this).parent().index();w[e]=o+1,s()})})}function s(){$(".quiz .carousel .arrows .right").find("img").fadeTo(0,1).css("cursor","pointer")}function r(){$(".quiz .carousel .arrows .right").find("img").fadeTo(0,.1).css("cursor","auto")}function l(){u(),h(),TweenMax.to(".quiz .carousel .carouselcontents",.5,{css:{left:-($(".quiz .carousel .carouselpics").width()*(m-1))}})}function u(){$(".quiz .questions .page img").attr("src","images/page_"+m+"_of_5.png"),$(".quiz .questions .ques").html("<span>"+d.data[m-1].qtop+'</span><div class="clr spacer"></div><span>'+d.data[m-1].qbot+"</span>")}function h(e){e?TweenMax.to(".quiz .progress .bar",.5,{x:-$(".quiz .progress").width()}):TweenMax.to(".quiz .progress .bar",.5,{delay:.5,x:$(".quiz .progress").width()/y*m})}function c(){for(var o=1;f>=o;o++)v.push({group:o,value:t(o,w)});// set data to elements
if(v.sort(e),console.log("results: "+v.sort(e)),v[0].value==v[1].value){var a=Math.ceil(2*Math.random()),n=a-1;console.log("groupIndex rand: "+n)}else var n=0;var i=v[n].group-1;console.log("groupId: "+i),$(".result .copies .title1").append(p.data[i].title1),$(".result .copies .title2").append(p.data[i].title2),$(".result .copies .txt1 strong").append(p.data[i].txt1),$(".result .copies .txt2").append(p.data[i].txt2),$(".result .imgmain .quote").append(p.data[i].quote),$(".result .imgmain .quoteby strong").append(p.data[i].quoteby),$(".result #button").click(function(){window.open(p.data[i].link,"_blank")}),// animate
TweenMax.to(".result .imgmain img",0,{autoAlpha:0,css:{top:468}}),TweenMax.to($(".result .imgmain img").eq(i),.5,{delay:.5,autoAlpha:1,css:{top:0}}),TweenMax.from(".result .imgmain .qholder",.5,{delay:1,autoAlpha:0,scaleX:0,scaleY:0})}var d={data:[{qtop:"Who is your major",qbot:"style crush?"},{qtop:"What is the one makeup essential",qbot:"you couldn't live without?"},{qtop:"You've just booked your next holiday - where",qbot:"are you and your passport heading?"},{qtop:"When it comes to your bag, which of these",qbot:"reflects the arm candy you love?"},{qtop:"You've got a massive night out planned - ",qbot:"where will you be heading?"}]},p={data:[{title1:"MOSTLY A'S",title2:"MODERN VINTAGE",txt1:"You never know what you're going to wear until minutes before you leave the house and that's what makes you wonderful!  Little imaginative additions make a big difference to your inimitable style. Whether its big glasses, little trinkets or innovative nails, every stylish flair has got a little story that makes you you.",txt2:"Discovering new music, new people and new food makes you happiest and the occasional retail therapy session also helps you smile! Pop a pair of the 'Dotty For You' Rollasoles in your bag to add some vintage rock-a-billy fun to your next adventure.",quote:"Fashions fade, style is eternal.",quoteby:"Yves Saint-Laurent",link:"http://www.rollasole.com/Dotty-For-You-p/dty.htm"},{title1:"MOSTLY B'S",title2:"POLISHED CHIC",txt1:"All style and even more substance! Whether its designer threads, High St styles or vintage chic you have THE eye for putting the outfit together that will look stunning on you and every one of your friends.",txt2:"Every outfit has an effortless style that breathes a confidence and sassiness that can't be ignored . You love fine food, fine cocktails and a fine man to help you enjoy it all even more. Don't be caught out on your next night on the tiles and slip some Parisian Chic Rollasoles in your clutch and you can slip in and out of your heels, whilst never looking anything less than fabulous!",quote:"Elegance is the only beauty that never fades",quoteby:"Audrey Hepburn",link:"http://www.rollasole.com/Parisian-Chic-p/pch.htm"},{title1:"MOSTLY C'S",title2:"PARTY GIRL",txt1:"You're the head turning, candle burning, giggle a minute to all your friends - and you always make sure you never look anything else than amazing!",txt2:"Too many friends, too many parties and never enough time to get ready! But hot make up, traffic-stopping style and statement heels are all part of your look - just because you're always last on the dance floor doesn't mean that you have to compromise on style. When the heels start to pinch break out the Leopard Print Rollasoles from your clutch and keep dancing until you see the sun!",quote:"Give a girl the right shoes, and she can conquer the world.",quoteby:"Marilyn Monroe",link:"http://www.rollasole.com/Leopard-Print-p/lpt.htm"}]},g=0,m=1,y=5,f=3,w=[],v=[];o()});